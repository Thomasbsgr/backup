PROMPT='%~$'

# changement d'appel pour pip3 et python3
alias py="python3.13"
alias pip="pip3"

# Editeur par dÃ©faut vscode
export EDITOR="code"

# zsh
alias zshup="source ~/.zshrc"

# cd les plus utiles
alias doc="cd /Users/thomas/Documents/"
alias desk="cd /Users/thomas/Desktop"
alias user="cd /Users/thomas"

alias pyc="cd /Users/thomas/Documents/pythonProject/coursPython"
alias pyp="cd /Users/thomas/Documents/pythonProject"

alias corse="cd /Users/thomas/Documents/web/corse"

# Django
alias run="py manage.py runserver"
alias man="py manage.py"

# Venv
alias venv="source venv/bin/activate"
alias stop="deactivate"

# Odoo
alias odoo="cd /Users/thomas/Documents/odoo"

# Sass
alias sass="npm run sass"

# Encryptage
enc() {
  if [[ "$1" == "backup" ]]; then
    if [ ! -f "backup.zip" ]; then
      echo "Fichier introuvable."
      return 1
    fi
    openssl enc -aes-256-cbc -salt -in "backup.zip" -out "papamaman.enc"
  else
    echo -n "Nom du fichier Ã  chiffrer : "
    read file
    if [ ! -f "$file" ]; then
      echo "Fichier introuvable."
      return 1
    fi
    openssl enc -aes-256-cbc -salt -in "$file" -out "$file.enc"
  fi
}

denc() {
  if [[ "$1" == "backup" ]]; then
    if [ ! -f "papamaman.enc" ]; then
      echo "Fichier introuvable."
      return 1
    fi
    openssl enc -d -aes-256-cbc -in "papamaman.enc" -out "backup.zip"
  else
    echo -n "Nom du fichier chiffrÃ© (.enc) : "
    read file
    if [ ! -f "$file" ]; then
      echo "Fichier introuvable."
      return 1
    fi
    openssl enc -d -aes-256-cbc -in "$file" -out "$file.zip"
  fi
}

dock_speed() {
  if [[ "$1" == "on" ]]; then
    echo "ğŸ”§ Activation du Dock rapide..."
    defaults write com.apple.dock autohide-delay -float 0
    defaults write com.apple.dock autohide-time-modifier -float 0.4
    killall Dock
    echo "âœ… Dock rapide activÃ©."
  elif [[ "$1" == "off" ]]; then
    echo "â™»ï¸ RÃ©initialisation des rÃ©glages du Dock..."
    defaults delete com.apple.dock autohide-delay 2>/dev/null
    defaults delete com.apple.dock autohide-time-modifier 2>/dev/null
    killall Dock
    echo "âœ… RÃ©glages du Dock rÃ©initialisÃ©s."
  else
    echo "â— Utilisation : dock_speed on | off"
  fi
}

backup() {
  cd /Users/thomas/.backup_git
  cp ~/.zshrc /Users/thomas/.backup_git/zshrc_backup
  echo -n "âœ… Zsh mis Ã  jour"
  read 1
  brew bundle dump --describe --file=/Users/thomas/.backup_git/util/Brewfile --force
  echo -n "âœ… Brew mis Ã  jour"
  read 1
  cp /Users/thomas/Library/Application\ Support/espanso/match/base.yml /Users/thomas/.backup_git/util/Espanso
  echo -n "âœ… Espanso mis Ã  jour"
  read 1
  git add .
  git commit -m "backup"
  git push
  echo -n "âœ… Github mis Ã  jour"
  read 1
  echo "âœ… Mise Ã  jour terminÃ©e avec succes !"
}
